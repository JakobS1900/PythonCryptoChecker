<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Daily Rewards - CryptoChecker</title>
    <link rel="icon" type="image/x-icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>‚Çø</text></svg>">
    
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    
    <!-- Enhanced Visual Styles -->
    <link href="/static/css/main.css" rel="stylesheet">
    <link href="/static/css/enhanced-theme.css" rel="stylesheet">
    <link href="/static/css/icons.css" rel="stylesheet">
    <link href="/static/css/visual-assets.css" rel="stylesheet">
    
    <style>
        body {
            background: var(--gradient-primary);
            background-attachment: fixed;
        }
        
        .rewards-page {
            min-height: 100vh;
            padding-top: 80px;
        }
        
        .reward-card {
            background: rgba(255, 255, 255, 0.1);
            border: 2px solid rgba(255, 255, 255, 0.2);
            border-radius: 20px;
            padding: 2rem;
            text-align: center;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }
        
        .reward-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.3);
            border-color: rgba(79, 70, 229, 0.5);
        }
        
        .reward-card.claimed {
            opacity: 0.6;
            border-color: rgba(34, 197, 94, 0.5);
        }
        
        .reward-card.available {
            border-color: rgba(245, 158, 11, 0.8);
            box-shadow: 0 0 30px rgba(245, 158, 11, 0.3);
            animation: glow-pulse 2s ease-in-out infinite alternate;
        }
        
        @keyframes glow-pulse {
            0% { box-shadow: 0 0 30px rgba(245, 158, 11, 0.3); }
            100% { box-shadow: 0 0 40px rgba(245, 158, 11, 0.6); }
        }
        
        .reward-icon {
            width: 100px;
            height: 100px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3rem;
            margin: 0 auto 1rem;
            background: var(--gradient-crypto);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3);
        }
        
        .reward-amount {
            font-size: 2rem;
            font-weight: bold;
            color: #fbbf24;
            margin: 1rem 0;
        }
        
        .claim-btn {
            background: var(--gradient-success);
            border: none;
            color: white;
            padding: 0.75rem 2rem;
            border-radius: 25px;
            font-weight: 600;
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        
        .claim-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 8px 25px rgba(34, 197, 94, 0.4);
        }
        
        .claim-btn:disabled {
            background: rgba(156, 163, 175, 0.5);
            cursor: not-allowed;
            transform: none;
        }
        
        .streak-counter {
            background: var(--gradient-warning);
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 20px;
            font-weight: bold;
            display: inline-block;
            margin-bottom: 1rem;
        }
        
        .earning-method {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 16px;
            padding: 1.5rem;
            margin-bottom: 1rem;
            transition: all 0.3s ease;
        }
        
        .earning-method:hover {
            background: rgba(255, 255, 255, 0.1);
            border-color: rgba(79, 70, 229, 0.3);
        }
        
        .method-icon {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            margin-bottom: 1rem;
            background: var(--gradient-gaming);
        }
    </style>
</head>
<body class="rewards-page">
    <!-- Navigation (same as inventory) -->
    <nav class="navbar navbar-expand-lg navbar-dark fixed-top" style="background: rgba(31, 41, 55, 0.95); backdrop-filter: blur(20px); border-bottom: 1px solid rgba(255, 255, 255, 0.1);">
        <div class="container-fluid">
            <a class="navbar-brand d-flex align-items-center" href="/">
                <div class="logo-icon me-3">‚Çø</div>
                <span class="logo-text">CryptoChecker</span>
            </a>
            
            <div class="navbar-nav ms-auto">
                <a class="nav-link" href="/">
                    <i class="fas fa-chart-line me-2"></i>Trading
                </a>
                <a class="nav-link" href="/gaming/roulette">
                    <i class="fas fa-dice me-2"></i>Gaming
                </a>
                <a class="nav-link" href="/gaming/inventory">
                    <i class="fas fa-box-open me-2"></i>Inventory
                </a>
                <!-- Auth Buttons -->
                <div id="auth-buttons">
                    <button class="btn btn-outline-light me-2" id="demo-login-btn">
                        <i class="fas fa-sign-in-alt me-2"></i>Demo Login
                    </button>
                    <a href="/login" class="btn btn-primary" style="border-radius: 20px; background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%); border: none;">
                        <i class="fas fa-user-plus me-2"></i>Sign Up
                    </a>
                </div>
            </div>
        </div>
    </nav>

    <div class="container py-4">
        <!-- Header -->
        <div class="row mb-4">
            <div class="col-12">
                <div class="card-glass text-center py-4">
                    <h1 class="display-4 fw-bold text-gradient mb-3">
                        <i class="fas fa-gift me-3"></i>Daily Rewards
                    </h1>
                    <p class="lead text-white opacity-75">
                        Claim your daily rewards and discover multiple ways to earn GEMs!
                    </p>
                    <div class="streak-counter">
                        <i class="fas fa-fire me-2"></i>Current Streak: <span id="currentStreak">3</span> days
                    </div>
                </div>
            </div>
        </div>

        <!-- Daily Rewards Grid -->
        <div class="row mb-5">
            <div class="col-12">
                <h3 class="text-gradient mb-4">
                    <i class="fas fa-calendar-day me-2"></i>7-Day Reward Cycle
                </h3>
            </div>
            
            <!-- Day 1 -->
            <div class="col-lg-3 col-md-4 col-sm-6 mb-4">
                <div class="reward-card claimed">
                    <div class="reward-icon">üíé</div>
                    <h5 class="text-gradient">Day 1</h5>
                    <div class="reward-amount">100 GEM</div>
                    <button class="claim-btn" disabled>
                        <i class="fas fa-check me-2"></i>Claimed
                    </button>
                </div>
            </div>
            
            <!-- Day 2 -->
            <div class="col-lg-3 col-md-4 col-sm-6 mb-4">
                <div class="reward-card claimed">
                    <div class="reward-icon">üí∞</div>
                    <h5 class="text-gradient">Day 2</h5>
                    <div class="reward-amount">150 GEM</div>
                    <button class="claim-btn" disabled>
                        <i class="fas fa-check me-2"></i>Claimed
                    </button>
                </div>
            </div>
            
            <!-- Day 3 -->
            <div class="col-lg-3 col-md-4 col-sm-6 mb-4">
                <div class="reward-card claimed">
                    <div class="reward-icon">üéÅ</div>
                    <h5 class="text-gradient">Day 3</h5>
                    <div class="reward-amount">200 GEM</div>
                    <button class="claim-btn" disabled>
                        <i class="fas fa-check me-2"></i>Claimed
                    </button>
                </div>
            </div>
            
            <!-- Day 4 - Available -->
            <div class="col-lg-3 col-md-4 col-sm-6 mb-4">
                <div class="reward-card available">
                    <div class="reward-icon">üöÄ</div>
                    <h5 class="text-gradient">Day 4</h5>
                    <div class="reward-amount">300 GEM</div>
                    <button class="claim-btn" onclick="claimDailyReward(4, 300)">
                        <i class="fas fa-gift me-2"></i>Claim Now!
                    </button>
                </div>
            </div>
            
            <!-- Day 5 -->
            <div class="col-lg-3 col-md-4 col-sm-6 mb-4">
                <div class="reward-card">
                    <div class="reward-icon">‚≠ê</div>
                    <h5 class="text-gradient">Day 5</h5>
                    <div class="reward-amount">400 GEM</div>
                    <button class="claim-btn" disabled>
                        <i class="fas fa-clock me-2"></i>Tomorrow
                    </button>
                </div>
            </div>
            
            <!-- Day 6 -->
            <div class="col-lg-3 col-md-4 col-sm-6 mb-4">
                <div class="reward-card">
                    <div class="reward-icon">üèÜ</div>
                    <h5 class="text-gradient">Day 6</h5>
                    <div class="reward-amount">500 GEM</div>
                    <button class="claim-btn" disabled>
                        <i class="fas fa-lock me-2"></i>Locked
                    </button>
                </div>
            </div>
            
            <!-- Day 7 - Bonus -->
            <div class="col-lg-3 col-md-4 col-sm-6 mb-4">
                <div class="reward-card">
                    <div class="reward-icon">üíé</div>
                    <h5 class="text-gradient">Day 7 - BONUS!</h5>
                    <div class="reward-amount">1,000 GEM</div>
                    <button class="claim-btn" disabled>
                        <i class="fas fa-crown me-2"></i>Jackpot
                    </button>
                </div>
            </div>
        </div>

        <!-- Other Earning Methods -->
        <div class="row">
            <div class="col-12">
                <h3 class="text-gradient mb-4">
                    <i class="fas fa-coins me-2"></i>More Ways to Earn GEMs
                </h3>
            </div>
            
            <div class="col-lg-4 col-md-6 mb-4">
                <div class="earning-method">
                    <div class="method-icon">üé∞</div>
                    <h5 class="text-gradient">Crypto Roulette</h5>
                    <p class="text-white opacity-75 mb-3">Win big by betting on crypto roulette! Up to 35:1 payouts on single number bets.</p>
                    <div class="text-warning mb-3">
                        <strong>Potential: 100-10,000+ GEM per win</strong>
                    </div>
                    <a href="/gaming/roulette" class="btn btn-neon">
                        <i class="fas fa-dice me-2"></i>Play Now
                    </a>
                </div>
            </div>
            
            <div class="col-lg-4 col-md-6 mb-4">
                <div class="earning-method">
                    <div class="method-icon">üìà</div>
                    <h5 class="text-gradient">Paper Trading</h5>
                    <p class="text-white opacity-75 mb-3">Practice trading with virtual money and earn GEMs based on your performance.</p>
                    <div class="text-warning mb-3">
                        <strong>Earn: 50-500 GEM per profitable trade</strong>
                    </div>
                    <a href="/trading" class="btn btn-neon">
                        <i class="fas fa-chart-line me-2"></i>Start Trading
                    </a>
                </div>
            </div>
            
            <div class="col-lg-4 col-md-6 mb-4">
                <div class="earning-method">
                    <div class="method-icon">üéØ</div>
                    <h5 class="text-gradient">Daily Quests</h5>
                    <p class="text-white opacity-75 mb-3">Complete daily challenges and objectives to earn bonus GEMs and items.</p>
                    <div class="text-warning mb-3">
                        <strong>Earn: 100-1,000 GEM per quest</strong>
                    </div>
                    <button class="btn btn-neon" onclick="showComingSoon()">
                        <i class="fas fa-tasks me-2"></i>View Quests
                    </button>
                </div>
            </div>
            
            <div class="col-lg-4 col-md-6 mb-4">
                <div class="earning-method">
                    <div class="method-icon">üèÜ</div>
                    <h5 class="text-gradient">Achievements</h5>
                    <p class="text-white opacity-75 mb-3">Unlock achievements by reaching milestones and completing challenges.</p>
                    <div class="text-warning mb-3">
                        <strong>Earn: 500-5,000 GEM per achievement</strong>
                    </div>
                    <button class="btn btn-neon" onclick="showComingSoon()">
                        <i class="fas fa-trophy me-2"></i>View Progress
                    </button>
                </div>
            </div>
            
            <div class="col-lg-4 col-md-6 mb-4">
                <div class="earning-method">
                    <div class="method-icon">‚è∞</div>
                    <h5 class="text-gradient">Hourly Bonus</h5>
                    <p class="text-white opacity-75 mb-3">Claim a small bonus every hour just for being active on the platform.</p>
                    <div class="text-warning mb-3">
                        <strong>Earn: 25-100 GEM per hour</strong>
                    </div>
                    <button class="btn btn-neon" onclick="claimHourlyBonus()" id="hourlyBonusBtn">
                        <i class="fas fa-clock me-2"></i>Claim Bonus
                    </button>
                </div>
            </div>
            
            <div class="col-lg-4 col-md-6 mb-4">
                <div class="earning-method">
                    <div class="method-icon">üë•</div>
                    <h5 class="text-gradient">Referral Program</h5>
                    <p class="text-white opacity-75 mb-3">Invite friends and earn GEMs when they join and start playing.</p>
                    <div class="text-warning mb-3">
                        <strong>Earn: 1,000 GEM per referral</strong>
                    </div>
                    <button class="btn btn-neon" onclick="showComingSoon()">
                        <i class="fas fa-user-plus me-2"></i>Invite Friends
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    
    <!-- Enhanced JavaScript -->
    <script src="/static/js/utils.js"></script>
    <script src="/static/js/main.js"></script>
    <script src="/static/js/animations.js"></script>
    <script src="/static/js/auth.js"></script>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            checkHourlyBonus();
        });

        async function claimDailyReward(day, amount) {
            try {
                const response = await fetch('/api/rewards/claim-daily', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({
                        day: day,
                        amount: amount
                    })
                });

                if (response.ok) {
                    const data = await response.json();
                    if (data.status === 'success') {
                        // Update UI
                        const card = event.target.closest('.reward-card');
                        card.classList.remove('available');
                        card.classList.add('claimed');
                        
                        const button = card.querySelector('.claim-btn');
                        button.innerHTML = '<i class="fas fa-check me-2"></i>Claimed';
                        button.disabled = true;

                        // Show success message
                        if (window.showAlert) {
                            window.showAlert(`Daily reward claimed! +${amount} GEM added to your wallet! üíé`, 'success');
                        }

                        // Update balance if auth system is available
                        if (window.auth && window.auth.loadWalletBalance) {
                            window.auth.loadWalletBalance();
                        }
                    }
                }
            } catch (error) {
                console.error('Failed to claim daily reward:', error);
                if (window.showAlert) {
                    window.showAlert('Failed to claim reward. Please try again.', 'error');
                }
            }
        }

        async function claimHourlyBonus() {
            try {
                const response = await fetch('/api/rewards/claim-hourly', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    }
                });

                if (response.ok) {
                    const data = await response.json();
                    if (data.status === 'success') {
                        const amount = data.data.amount;
                        
                        // Update button
                        const button = document.getElementById('hourlyBonusBtn');
                        button.innerHTML = '<i class="fas fa-check me-2"></i>Claimed!';
                        button.disabled = true;
                        
                        // Set timer for next claim
                        setTimeout(() => {
                            button.innerHTML = '<i class="fas fa-clock me-2"></i>Claim Bonus';
                            button.disabled = false;
                        }, 3600000); // 1 hour

                        // Show success message
                        if (window.showAlert) {
                            window.showAlert(`Hourly bonus claimed! +${amount} GEM! ‚è∞`, 'success');
                        }
                    } else {
                        if (window.showAlert) {
                            window.showAlert(data.message || 'Cannot claim bonus yet', 'warning');
                        }
                    }
                }
            } catch (error) {
                console.error('Failed to claim hourly bonus:', error);
                if (window.showAlert) {
                    window.showAlert('Failed to claim bonus. Please try again.', 'error');
                }
            }
        }

        function checkHourlyBonus() {
            // Check if hourly bonus is available
            const lastClaim = localStorage.getItem('lastHourlyClaim');
            if (lastClaim) {
                const timeSince = Date.now() - parseInt(lastClaim);
                const oneHour = 3600000; // 1 hour in milliseconds
                
                if (timeSince < oneHour) {
                    const button = document.getElementById('hourlyBonusBtn');
                    button.innerHTML = '<i class="fas fa-clock me-2"></i>Wait ' + Math.ceil((oneHour - timeSince) / 60000) + 'm';
                    button.disabled = true;
                    
                    // Set timer to re-enable
                    setTimeout(() => {
                        button.innerHTML = '<i class="fas fa-clock me-2"></i>Claim Bonus';
                        button.disabled = false;
                    }, oneHour - timeSince);
                }
            }
        }

        function showComingSoon() {
            if (window.showAlert) {
                window.showAlert('This feature is coming soon! Stay tuned for more ways to earn GEMs! üöÄ', 'info');
            } else {
                alert('This feature is coming soon!');
            }
        }
    </script>
</body>
</html>
